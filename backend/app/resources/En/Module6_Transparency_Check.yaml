module_id: 6
title: "Transparency Obligation Check"
description: "Determines if the AI system triggers specific transparency obligations under Article 50 of the EU AI Act based on the user's Role (Provider or Deployer)."

# 1. QUESTIONS SECTION
questions:
  # ---------------------------------------------------------
  # PROVIDER GATEWAY
  # ---------------------------------------------------------
  - id: "q6.gateway_provider"
    text: "As a Provider, does your AI system perform any of the following functions?"
    ref: "Art 50(1)-(2): Specifies obligations for providers regarding interaction with natural persons and synthetic content generation."
    type: "multi_choice"
    dependency: "Role == 'provider'"
    options:
      - label: "It is intended to interact directly with natural persons (e.g., chatbots)."
        cite: "Art 50(1): Providers shall ensure that AI systems intended to interact directly with natural persons are designed and developed in such a way that the natural persons concerned are informed that they are interacting with an AI system..."
        description: "Select this if the system talks or chats with users in real-time."
        value: 1
      - label: "It generates synthetic audio, image, video, or text content."
        cite: "Art 50(2): Providers of AI systems... generating synthetic audio, image, video or text content, shall ensure that the outputs of the AI system are marked in a machine-readable format and detectable as artificially generated or manipulated."
        description: "Select this if the system creates artificial media or writing."
        value: 2
      - label: "None of the above"
        cite: "Art 50"
        description: "Select this if the system does not perform these specific functions."
        value: 0
        exclusive: true

  # --- PROVIDER TRACK A: Interaction (Art 50.1) ---
  - id: "q6.p.1.obvious"
    text: "Is it obvious to a reasonably well-informed, observant, and circumspect natural person that they are interacting with this AI system?"
    ref: "Art 50(1): ...unless this is obvious from the point of view of a natural person who is reasonably well-informed, observant and circumspect..."
    type: "single_choice"
    dependency: "q6.gateway_provider contains 1"
    options:
      - label: "Yes, it is obvious from the context."
        cite: "Art 50(1): ...unless this is obvious from the point of view of a natural person who is reasonably well-informed, observant and circumspect, taking into account the circumstances and the context of use."
        description: "Select this if the setting or interface makes it clear to anyone that the system is not human."
        value: True
      - label: "No, it might not be obvious."
        cite: "Art 50(1): Providers shall ensure... natural persons concerned are informed that they are interacting with an AI system..."
        description: "Select this if a user might reasonably think they are communicating with a human."
        value: False

  - id: "q6.p.1.le_auth"
    text: "Is this interactive AI system authorised by law to detect, prevent, investigate or prosecute criminal offences?"
    ref: "Art 50(1): This obligation shall not apply to AI systems authorised by law to detect, prevent, investigate or prosecute criminal offences..."
    type: "single_choice"
    dependency: "q6.gateway_provider contains 1 and q6.p.1.obvious == False"
    options:
      - label: "Yes"
        cite: "Art 50(1): This obligation shall not apply to AI systems authorised by law to detect, prevent, investigate or prosecute criminal offences..."
        description: "Select this if the system is used by law enforcement under a legal mandate."
        value: True
      - label: "No"
        cite: "Art 50(1): ...subject to appropriate safeguards... (General rule applies)."
        description: "Select this for commercial, business, or general public uses."
        value: False

  - id: "q6.p.1.public_report"
    text: "Is this interactive AI system available for the public to report a criminal offence?"
    ref: "Art 50(1): ...unless those systems are available for the public to report a criminal offence."
    type: "single_choice"
    dependency: "q6.p.1.le_auth == True"
    options:
      - label: "Yes"
        cite: "Art 50(1): ...unless those systems are available for the public to report a criminal offence."
        description: "Select this if the AI acts as a public reporting portal for crimes."
        value: True
      - label: "No"
        cite: "Art 50(1): (Exemption for law enforcement applies)."
        description: "Select this if the system is used only internally or for other purposes."
        value: False

  # --- PROVIDER TRACK B: Synthetic Content (Art 50.2) ---
  - id: "q6.p.2.assistive"
    text: "Does this synthetic content generation system only perform an assistive function for standard editing or not substantially alter the input data?"
    ref: "Art 50(2): This obligation shall not apply to the extent the AI systems perform an assistive function for standard editing..."
    type: "single_choice"
    dependency: "q6.gateway_provider contains 2"
    options:
      - label: "Yes (e.g., standard editing, minor cleanup)"
        cite: "Art 50(2): This obligation shall not apply to the extent the AI systems perform an assistive function for standard editing or do not substantially alter the input data provided by the deployer or the semantics thereof..."
        description: "Select this for tools like spell-checkers, simple filters, or basic noise reduction."
        value: True
      - label: "No (substantially alters or generates new content)"
        cite: "Art 50(2): ...ensure that the outputs of the AI system are marked... (General rule applies)."
        description: "Select this if the AI generates new content or changes the meaning of the input."
        value: False

  - id: "q6.p.2.le_auth"
    text: "Is the use of this content generation system authorised by law to detect, prevent, investigate or prosecute criminal offences?"
    ref: "Art 50(2): ...or where authorised by law to detect, prevent, investigate or prosecute criminal offences."
    type: "single_choice"
    dependency: "q6.gateway_provider contains 2 and q6.p.2.assistive == False"
    options:
      - label: "Yes"
        cite: "Art 50(2): ...or where authorised by law to detect, prevent, investigate or prosecute criminal offences."
        description: "Select this if the system is used by the police for authorized investigations."
        value: True
      - label: "No"
        cite: "Art 50(2): (General rule applies)."
        description: "Select this for business, artistic, or personal content tools."
        value: False

  # ---------------------------------------------------------
  # DEPLOYER GATEWAY
  # ---------------------------------------------------------
  - id: "q6.gateway_deployer"
    text: "As a Deployer, does your AI system perform any of the following functions?"
    ref: "Art 50(3)-(4): Specifies obligations for deployers regarding emotion recognition, biometric categorisation, deep fakes, and public interest text."
    type: "multi_choice"
    dependency: "Role == 'deployer'"
    options:
      - label: "It is an emotion recognition system or a biometric categorisation system."
        cite: "Art 50(3): Deployers of an emotion recognition system or a biometric categorisation system shall inform the natural persons exposed thereto of the operation of the system..."
        description: "Select this if the AI identifies feelings or groups people based on physical/behavioral traits."
        value: 1
      - label: "It generates/manipulates image, audio, or video content constituting a 'deep fake'."
        cite: "Art 50(4): Deployers of an AI system that generates or manipulates image, audio or video content constituting a deep fake, shall disclose that the content has been artificially generated or manipulated."
        description: "Select this for realistic face-swaps, voice clones, or fake videos."
        value: 2
      - label: "It generates/manipulates text published to inform the public on matters of public interest."
        cite: "Art 50(4): Deployers of an AI system that generates or manipulates text which is published with the purpose of informing the public on matters of public interest shall disclose that the text has been artificially generated or manipulated."
        description: "Select this if the AI writes public reports on health, politics, or news."
        value: 3
      - label: "None of the above"
        cite: "Art 50"
        description: "Select this if the system does not perform these specific functions."
        value: 0
        exclusive: true

  # --- DEPLOYER TRACK C: Emotion/Biometric (Art 50.3) ---
  - id: "q6.d.1.le_perm"
    text: "Is the use of this emotion recognition or biometric categorisation system permitted by law to detect, prevent or investigate criminal offences?"
    ref: "Art 50(3): This obligation shall not apply... which are permitted by law to detect, prevent or investigate criminal offences..."
    type: "single_choice"
    dependency: "q6.gateway_deployer contains 1"
    options:
      - label: "Yes"
        cite: "Art 50(3): This obligation shall not apply to AI systems used for biometric categorisation and emotion recognition, which are permitted by law to detect, prevent or investigate criminal offences..."
        description: "Select this if used for legal police investigations."
        value: True
      - label: "No"
        cite: "Art 50(3): (General rule applies)."
        description: "Select this for uses in stores, workplaces, schools, or marketing."
        value: False

  # --- DEPLOYER TRACK D: Deep Fakes (Art 50.4) ---
  - id: "q6.d.2.le_auth"
    text: "Is the use of this deep fake generation system authorised by law to detect, prevent, investigate or prosecute criminal offences?"
    ref: "Art 50(4): This obligation shall not apply where the use is authorised by law to detect, prevent, investigate or prosecute criminal offence."
    type: "single_choice"
    dependency: "q6.gateway_deployer contains 2"
    options:
      - label: "Yes"
        cite: "Art 50(4): This obligation shall not apply where the use is authorised by law to detect, prevent, investigate or prosecute criminal offence."
        description: "Select this if the deep fake is part of a legal investigation."
        value: True
      - label: "No"
        cite: "Art 50(4): (General rule applies)."
        description: "Select this for entertainment, ads, or news."
        value: False

  - id: "q6.d.2.artistic"
    text: "Does this deep fake content form part of an evidently artistic, creative, satirical, fictional or analogous work?"
    ref: "Art 50(4): Where the content forms part of an evidently artistic... work... the transparency obligations... are limited to disclosure... that does not hamper the display or enjoyment..."
    type: "single_choice"
    dependency: "q6.gateway_deployer contains 2 and q6.d.2.le_auth == False"
    options:
      - label: "Yes"
        cite: "Art 50(4): Where the content forms part of an evidently artistic, creative, satirical, fictional or analogous work or programme, the transparency obligations set out in this paragraph are limited to disclosure..."
        description: "Select this for films, art, or satire where labels shouldn't interrupt the view."
        value: True
      - label: "No"
        cite: "Art 50(4): (Standard disclosure obligation applies)."
        description: "Select this for news, informational, or business content."
        value: False

  # --- DEPLOYER TRACK E: Public Interest Text (Art 50.4) ---
  - id: "q6.d.3.le_auth"
    text: "Is the publication of this AI-generated text authorised by law to detect, prevent, investigate or prosecute criminal offences?"
    ref: "Art 50(4): This obligation shall not apply where the use is authorised by law to detect, prevent, investigate or prosecute criminal offences..."
    type: "single_choice"
    dependency: "q6.gateway_deployer contains 3"
    options:
      - label: "Yes"
        cite: "Art 50(4): This obligation shall not apply where the use is authorised by law to detect, prevent, investigate or prosecute criminal offences..."
        description: "Select this if the text is for legal crime-fighting tasks."
        value: True
      - label: "No"
        cite: "Art 50(4): (General rule applies)."
        description: "Select this for general public news or information."
        value: False

  - id: "q6.d.3.human_review"
    text: "Has this public interest text undergone human review/editorial control, and does a person hold editorial responsibility for it?"
    ref: "Art 50(4): ...or where the AI-generated content has undergone a process of human review or editorial control and where a natural or legal person holds editorial responsibility..."
    type: "single_choice"
    dependency: "q6.gateway_deployer contains 3 and q6.d.3.le_auth == False"
    options:
      - label: "Yes"
        cite: "Art 50(4): ...or where the AI-generated content has undergone a process of human review or editorial control and where a natural or legal person holds editorial responsibility for the publication of the content."
        description: "Select this if a person checks the text and takes legal responsibility for it."
        value: True
      - label: "No"
        cite: "Art 50(4): (General rule applies)."
        description: "Select this if the AI publishes the text automatically."
        value: False

variables:
  - name: "Transparency_obligation"
    type: "boolean"
    initial_value: False
    rules:
      # --- PROVIDER RULES ---
      # 1. Interaction: Provider + Interactive + Not Obvious + (Not LE OR Public Report)
      - condition: "Role == 'provider' and q6.gateway_provider contains 1 and q6.p.1.obvious == False and (q6.p.1.le_auth == False or q6.p.1.public_report == True)"
        value: True

      # 2. Synthetic Content: Provider + Synthetic + Not Assistive + Not LE
      - condition: "Role == 'provider' and q6.gateway_provider contains 2 and q6.p.2.assistive == False and q6.p.2.le_auth == False"
        value: True

      # --- DEPLOYER RULES ---
      # 3. Emotion/Biometric: Deployer + Function + Not LE
      - condition: "Role == 'deployer' and q6.gateway_deployer contains 1 and q6.d.1.le_perm == False"
        value: True

      # 4. Deep Fake: Deployer + Deep Fake + Not LE
      # Note: Even if it is artistic (q6.d.2.artistic == True), the obligation exists (limited disclosure), so it remains True.
      - condition: "Role == 'deployer' and q6.gateway_deployer contains 2 and q6.d.2.le_auth == False"
        value: True

      # 5. Public Text: Deployer + Public Text + Not LE + Not Human Review
      - condition: "Role == 'deployer' and q6.gateway_deployer contains 3 and q6.d.3.le_auth == False and q6.d.3.human_review == False"
        value: True

      # Fallback
      - condition: "else"
        value: False

  - name: "Transparency_Reasons"
    type: "list"
    initial_value: []
    description: "Collects reasons for the transparency obligations."
    rules:
      # Provider Reasons
      - condition: "Role == 'provider' and q6.gateway_provider contains 1 and q6.p.1.obvious == False and (q6.p.1.le_auth == False or q6.p.1.public_report == True)"
        value: "As a provider of an AI system intended to interact directly with natural persons (where it is not obvious), the transparency obligation applies (Art 50(1))"

      - condition: "Role == 'provider' and q6.gateway_provider contains 2 and q6.p.2.assistive == False and q6.p.2.le_auth == False"
        value: "As a provider of an AI system generating synthetic content, the transparency obligation applies (Art 50(2))"

      # Deployer Reasons
      - condition: "Role == 'deployer' and q6.gateway_deployer contains 1 and q6.d.1.le_perm == False"
        value: "As a deployer of an emotion recognition system or a biometric categorisation system, the transparency obligation applies (Art 50(3))"

      - condition: "Role == 'deployer' and q6.gateway_deployer contains 2 and q6.d.2.le_auth == False and q6.d.2.artistic == False"
        value: "As a deployer of an AI system generating deep fakes, the transparency obligation applies (Art 50(4))"

      - condition: "Role == 'deployer' and q6.gateway_deployer contains 2 and q6.d.2.le_auth == False and q6.d.2.artistic == True"
        value: "As a deployer of an AI system generating deep fakes, the transparency obligation applies (Art 50(4)). But In an artistic context, this transparency obligation is limited to disclosing the existence of the deep fake in an appropriate manner that does not hamper the display or enjoyment of the work"

      - condition: "Role == 'deployer' and q6.gateway_deployer contains 3 and q6.d.3.le_auth == False and q6.d.3.human_review == False"
        value: "As a deployer publishing AI-generated text on matters of public interest without human editorial responsibility, the transparency obligation applies (Art 50(4))"

router:
  - condition: "True"
    action: "jump"
    target_module_id: 8