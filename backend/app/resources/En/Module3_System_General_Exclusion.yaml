module_id: 3 #"03a_system_exclusion_check"
title: "System Exclusion Check"
description: "Screens for specific exclusions from the Regulation as defined in Article 2."

questions:
  - id: "q3a.1"
    text: "Does your product fall under a specific exclusion for military, defense, or international law enforcement cooperation?"
    ref: "Art 2(3), Art 2(4)"
    type: "single_choice"
    options:
      - label: "Yes, exclusively for military, defense, or national security purposes."
        value: 1
      - label: "Yes, public authorities/International organizations for international law enforcement cooperation."
        value: 2
      - label: "No"
        value: 3

  - id: "q3a.2"
    text: "Are you a natural person (deployer) using the product exclusively for personal, non-professional, non-commercial activity?"
    ref: "Art 2(10)"
    type: "single_choice"
    dependency: "q3a.1 == 3"
    options:
      - label: "Yes, I am a natural person using the product exclusively for personal, non-professional activity."
        value: True
      - label: "No, I am not a natural person, or I use it for professional/commercial purposes."
        value: False

variables:
  - name: "System_excluded"
    type: "boolean"
    initial_value: False
    rules:
      - condition: "q3a.1 == 1"
        value: True
      - condition: "q3a.1 == 2"
        value: True
      - condition: "q3a.2 == True"
        value: True
      - condition: "else"
        value: False

  - name: "Exclusion_Reason"
    type: "string"
    initial_value: ""
    rules:
      - condition: "q3a.1 == 1"
        value: "Military, Defense, or National Security Exclusion (Art 2(3))"
      - condition: "q3a.1 == 2"
        value: "International Law Enforcement Cooperation Exclusion (Art 2(4))"
      - condition: "q3a.2 == True"
        value: "Personal Non-Professional Activity Exclusion (Art 2(10))"
      - condition: "else"
        value: "N/A"

router:
  - condition: "System_excluded == True"
    action: "jump"
    target_module_id: 9 #"Module 9 (Excluded)"

  - condition: "System_excluded == False"
    action: "jump"
    target_module_id: 4 #"Module 4 (Unacceptable Risk Check)"
